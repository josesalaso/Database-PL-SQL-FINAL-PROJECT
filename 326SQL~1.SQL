-- SQL DINAMICO USANDO EL PACKAGE CON FUNCION Y UNA FUNCION ALAMECANADA DE UN DETERMINADO
-- POSTULANTE PARA MOSTRAR SUS DATOS.
DECLARE

R_POSTULANTE POSTULANTE%ROWTYPE;
VPERSONA VARCHAR2(300):='SELECT * FROM POSTULANTE WHERE RUN=:1 ';


BEGIN
    EXECUTE IMMEDIATE VPERSONA INTO R_POSTULANTE USING 20322233;

    DBMS_OUTPUT.PUT_LINE(R_POSTULANTE.P_NOMBRE||' '||R_POSTULANTE.APELLIDO_PA);
    DBMS_OUTPUT.PUT_LINE(PKG_INFO_POST.FN_NOMBRE_INST(R_POSTULANTE.RUN));
    DBMS_OUTPUT.PUT_LINE('Puntaje por la institucion: '||''||FN_PUNTAJE_INST(R_POSTULANTE.RUN));
    DBMS_OUTPUT.PUT_LINE(VPERSONA);


END;