CREATE TRIGGER TRG_PUNTAJE_TOTAL 
BEFORE INSERT OR UPDATE OF PUNTAJE_TOTAL ON PUNTAJES_POSTULANTE_ETAPA3
FOR EACH ROW
DECLARE
V_PUNTAJE NUMERIC (3);
BEGIN
  V_PUNTAJE := ROUND(:NEW.PUNTAJE_EDAD*(0.05)) + ROUND(:NEW.PUNTAJE_EST_CIVIL*(0.05)) + ROUND(:NEW.PUNTAJE_PUEBLO_ORI*(0.1)) + 
               ROUND(:NEW.PUNTAJE_ZONA_EX*(0.1)) + ROUND(:NEW.PUNTAJE_ANT_ACAD*(0.1)) + ROUND(:NEW.PUNTAJE_TRAY_LAB*(0.01)) + 
               ROUND(:NEW.PUNTAJE_DOC_INV*(0.1)) + ROUND(:NEW.PUNTAJE_OBJETIVO*(0.1)) + ROUND(:NEW.PUNTAJE_INTERES*(0.05)) + 
               ROUND(:NEW.PUNTAJE_RETRIB*(0.05)) + ROUND(:NEW.PUNTAJE_RANK*(0.2));
  IF :NEW.PUNTAJE_TOTAL IS NULL THEN
    :NEW.PUNTAJE_TOTAL := V_PUNTAJE;
  END IF;
  
END TRG_PUNTAJE_TOTAL;